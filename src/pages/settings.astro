---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <div id="settings-page">
    <header>
      <h1>系统设置</h1>
      <p>管理系统的配置和用户权限</p>
    </header>

    <main>
      <div class="settings-container">
        <!-- 侧边栏导航 -->
        <nav class="settings-nav">
          <ul>
            <li class="nav-item active" data-tab="profile">个人资料</li>
            <li class="nav-item" data-tab="security">安全设置</li>
            <li class="nav-item" data-tab="notifications">通知设置</li>
            <li class="nav-item" data-tab="permissions">权限管理</li>
            <li class="nav-item" data-tab="system">系统配置</li>
          </ul>
        </nav>

        <!-- 设置内容区域 -->
        <div class="settings-content">
          <!-- 个人资料设置 -->
          <div class="settings-tab active" id="profile-tab">
            <h2>个人资料</h2>
            <form id="profile-form" class="settings-form">
              <div class="form-group">
                <label for="full-name">姓名</label>
                <input type="text" id="full-name" name="full_name" value="系统管理员">
              </div>
              
              <div class="form-group">
                <label for="email">邮箱</label>
                <input type="email" id="email" name="email" value="admin@example.com">
              </div>
              
              <div class="form-group">
                <label for="phone">手机号</label>
                <input type="tel" id="phone" name="phone" value="13800138000">
              </div>
              
              <div class="form-group">
                <label for="role">角色</label>
                <select id="role" name="role">
                  <option value="admin" selected>管理员</option>
                  <option value="manager">经理</option>
                  <option value="operator">操作员</option>
                </select>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="save-btn">保存更改</button>
              </div>
            </form>
          </div>

          <!-- 安全设置 -->
          <div class="settings-tab" id="security-tab">
            <h2>安全设置</h2>
            <form id="security-form" class="settings-form">
              <div class="form-group">
                <label for="current-password">当前密码</label>
                <input type="password" id="current-password" name="current_password">
              </div>
              
              <div class="form-group">
                <label for="new-password">新密码</label>
                <input type="password" id="new-password" name="new_password">
              </div>
              
              <div class="form-group">
                <label for="confirm-password">确认新密码</label>
                <input type="password" id="confirm-password" name="confirm_password">
              </div>
              
              <div class="form-group">
                <label class="checkbox-label">
                  <input type="checkbox" id="two-factor" name="two_factor">
                  启用双重认证
                </label>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="save-btn">更新密码</button>
              </div>
            </form>
            
            <div class="security-section">
              <h3>登录历史</h3>
              <div class="login-history">
                <div class="login-record">
                  <span class="login-time">2025-10-10 14:30</span>
                  <span class="login-ip">192.168.1.100</span>
                  <span class="login-location">北京</span>
                  <span class="login-status success">成功</span>
                </div>
                <div class="login-record">
                  <span class="login-time">2025-10-09 09:15</span>
                  <span class="login-ip">192.168.1.101</span>
                  <span class="login-location">北京</span>
                  <span class="login-status success">成功</span>
                </div>
                <div class="login-record">
                  <span class="login-time">2025-10-08 16:45</span>
                  <span class="login-ip">192.168.1.102</span>
                  <span class="login-location">北京</span>
                  <span class="login-status failed">失败</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 通知设置 -->
          <div class="settings-tab" id="notifications-tab">
            <h2>通知设置</h2>
            <form id="notifications-form" class="settings-form">
              <div class="notification-setting">
                <h3>系统通知</h3>
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="system-alerts" name="system_alerts" checked>
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="system-alerts">系统警报</label>
                    <p>接收系统异常和重要通知</p>
                  </div>
                </div>
                
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="performance-alerts" name="performance_alerts" checked>
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="performance-alerts">性能警报</label>
                    <p>接收性能指标异常通知</p>
                  </div>
                </div>
              </div>
              
              <div class="notification-setting">
                <h3>业务通知</h3>
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="sales-notifications" name="sales_notifications" checked>
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="sales-notifications">销售通知</label>
                    <p>接收重要销售数据更新</p>
                  </div>
                </div>
                
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="report-notifications" name="report_notifications">
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="report-notifications">报告生成通知</label>
                    <p>报告生成完成后通知</p>
                  </div>
                </div>
              </div>
              
              <div class="notification-setting">
                <h3>通知方式</h3>
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="email-notifications" name="email_notifications" checked>
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="email-notifications">邮件通知</label>
                    <p>通过邮件接收通知</p>
                  </div>
                </div>
                
                <div class="setting-item">
                  <label class="switch">
                    <input type="checkbox" id="sms-notifications" name="sms_notifications">
                    <span class="slider"></span>
                  </label>
                  <div class="setting-info">
                    <label for="sms-notifications">短信通知</label>
                    <p>通过短信接收通知</p>
                  </div>
                </div>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="save-btn">保存通知设置</button>
              </div>
            </form>
          </div>

          <!-- 权限管理 -->
          <div class="settings-tab" id="permissions-tab">
            <h2>权限管理</h2>
            <div class="permissions-section">
              <div class="section-header">
                <h3>角色权限</h3>
                <button id="add-role-btn" class="add-btn">添加角色</button>
              </div>
              
              <div class="roles-list">
                <div class="role-card">
                  <div class="role-header">
                    <h4>管理员</h4>
                    <div class="role-actions">
                      <button class="edit-btn">编辑</button>
                      <button class="delete-btn">删除</button>
                    </div>
                  </div>
                  <div class="role-permissions">
                    <p>拥有系统所有权限，包括用户管理、系统配置、数据访问等</p>
                    <ul>
                      <li>用户管理</li>
                      <li>系统配置</li>
                      <li>数据访问</li>
                      <li>报告生成</li>
                    </ul>
                  </div>
                </div>
                
                <div class="role-card">
                  <div class="role-header">
                    <h4>品牌方</h4>
                    <div class="role-actions">
                      <button class="edit-btn">编辑</button>
                      <button class="delete-btn">删除</button>
                    </div>
                  </div>
                  <div class="role-permissions">
                    <p>可以查看和管理自己的商品数据、销售报告等</p>
                    <ul>
                      <li>商品管理</li>
                      <li>销售数据查看</li>
                      <li>报告查看</li>
                    </ul>
                  </div>
                </div>
                
                <div class="role-card">
                  <div class="role-header">
                    <h4>代销方</h4>
                    <div class="role-actions">
                      <button class="edit-btn">编辑</button>
                      <button class="delete-btn">删除</button>
                    </div>
                  </div>
                  <div class="role-permissions">
                    <p>可以查看销售数据、提交退货申请、查看预警信息</p>
                    <ul>
                      <li>销售数据查看</li>
                      <li>退货申请</li>
                      <li>预警查看</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="permissions-section">
              <div class="section-header">
                <h3>用户管理</h3>
                <button id="add-user-btn" class="add-btn">添加用户</button>
              </div>
              
              <div class="table-container">
                <table>
                  <thead>
                    <tr>
                      <th>用户名</th>
                      <th>角色</th>
                      <th>邮箱</th>
                      <th>状态</th>
                      <th>操作</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>admin</td>
                      <td>管理员</td>
                      <td>admin@example.com</td>
                      <td><span class="status active">活跃</span></td>
                      <td>
                        <button class="action-btn edit-btn">编辑</button>
                        <button class="action-btn delete-btn">删除</button>
                      </td>
                    </tr>
                    <tr>
                      <td>brand_user</td>
                      <td>品牌方</td>
                      <td>brand@example.com</td>
                      <td><span class="status active">活跃</span></td>
                      <td>
                        <button class="action-btn edit-btn">编辑</button>
                        <button class="action-btn delete-btn">删除</button>
                      </td>
                    </tr>
                    <tr>
                      <td>affiliate_user</td>
                      <td>代销方</td>
                      <td>affiliate@example.com</td>
                      <td><span class="status inactive">停用</span></td>
                      <td>
                        <button class="action-btn edit-btn">编辑</button>
                        <button class="action-btn delete-btn">删除</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- 系统配置 -->
          <div class="settings-tab" id="system-tab">
            <h2>系统配置</h2>
            <form id="system-form" class="settings-form">
              <div class="form-section">
                <h3>基础配置</h3>
                <div class="form-group">
                  <label for="system-name">系统名称</label>
                  <input type="text" id="system-name" name="system_name" value="药品代销管理系统">
                </div>
                
                <div class="form-group">
                  <label for="timezone">时区设置</label>
                  <select id="timezone" name="timezone">
                    <option value="UTC+8" selected>北京时间 (UTC+8)</option>
                    <option value="UTC+0">格林威治时间 (UTC+0)</option>
                    <option value="UTC-5">东部时间 (UTC-5)</option>
                  </select>
                </div>
              </div>
              
              <div class="form-section">
                <h3>数据配置</h3>
                <div class="form-group">
                  <label for="data-retention">数据保留期限</label>
                  <select id="data-retention" name="data_retention">
                    <option value="30">30天</option>
                    <option value="90" selected>90天</option>
                    <option value="365">365天</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="auto-backup">自动备份</label>
                  <select id="auto-backup" name="auto_backup">
                    <option value="daily">每日</option>
                    <option value="weekly" selected>每周</option>
                    <option value="monthly">每月</option>
                  </select>
                </div>
              </div>
              
              <div class="form-section">
                <h3>API配置</h3>
                <div class="form-group">
                  <label for="api-rate-limit">API速率限制</label>
                  <select id="api-rate-limit" name="api_rate_limit">
                    <option value="100">100请求/分钟</option>
                    <option value="500" selected>500请求/分钟</option>
                    <option value="1000">1000请求/分钟</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label class="checkbox-label">
                    <input type="checkbox" id="api-logging" name="api_logging" checked>
                    启用API日志记录
                  </label>
                </div>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="save-btn">保存系统配置</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>
  </div>
</Layout>

<script>
  // DOM加载完成后初始化
  document.addEventListener('DOMContentLoaded', () => {
    // 绑定事件监听器
    bindEventListeners();
  });

  // 绑定事件监听器
  const bindEventListeners = () => {
    // 侧边栏导航点击事件
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', (event) => {
        const tab = event.target.dataset.tab;
        switchTab(tab);
      });
    });
    
    // 表单提交事件
    document.getElementById('profile-form').addEventListener('submit', handleProfileSave);
    document.getElementById('security-form').addEventListener('submit', handleSecuritySave);
    document.getElementById('notifications-form').addEventListener('submit', handleNotificationsSave);
    document.getElementById('system-form').addEventListener('submit', handleSystemSave);
    
    // 添加角色和用户按钮事件
    document.getElementById('add-role-btn').addEventListener('click', () => {
      showNotification('添加角色功能待实现', 'info');
    });
    
    document.getElementById('add-user-btn').addEventListener('click', () => {
      showNotification('添加用户功能待实现', 'info');
    });
    
    // 角色和用户操作按钮事件
    document.querySelectorAll('.edit-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        showNotification('编辑功能待实现', 'info');
      });
    });
    
    document.querySelectorAll('.delete-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        if (confirm('确定要删除吗？')) {
          showNotification('删除成功', 'success');
        }
      });
    });
  };

  // 切换设置标签页
  const switchTab = (tabName) => {
    // 更新导航项状态
    document.querySelectorAll('.nav-item').forEach(item => {
      item.classList.remove('active');
    });
    document.querySelector(`.nav-item[data-tab="${tabName}"]`).classList.add('active');
    
    // 更新内容区域显示
    document.querySelectorAll('.settings-tab').forEach(tab => {
      tab.classList.remove('active');
    });
    document.getElementById(`${tabName}-tab`).classList.add('active');
  };

  // 处理个人资料保存
  const handleProfileSave = (event) => {
    event.preventDefault();
    
    try {
      // 模拟保存过程
      showNotification('正在保存个人资料...', 'info');
      
      setTimeout(() => {
        showNotification('个人资料保存成功', 'success');
      }, 1000);
    } catch (error) {
      console.error('保存个人资料失败:', error);
      showNotification('保存失败，请稍后重试', 'error');
    }
  };

  // 处理安全设置保存
  const handleSecuritySave = (event) => {
    event.preventDefault();
    
    const currentPassword = document.getElementById('current-password').value;
    const newPassword = document.getElementById('new-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    
    // 简单验证
    if (!currentPassword) {
      showNotification('请输入当前密码', 'error');
      return;
    }
    
    if (newPassword || confirmPassword) {
      if (newPassword !== confirmPassword) {
        showNotification('新密码和确认密码不匹配', 'error');
        return;
      }
      
      if (newPassword.length < 6) {
        showNotification('密码长度至少6位', 'error');
        return;
      }
    }
    
    try {
      // 模拟保存过程
      showNotification('正在更新密码...', 'info');
      
      setTimeout(() => {
        showNotification('密码更新成功', 'success');
        // 清空密码字段
        document.getElementById('current-password').value = '';
        document.getElementById('new-password').value = '';
        document.getElementById('confirm-password').value = '';
      }, 1000);
    } catch (error) {
      console.error('更新密码失败:', error);
      showNotification('更新失败，请稍后重试', 'error');
    }
  };

  // 处理通知设置保存
  const handleNotificationsSave = (event) => {
    event.preventDefault();
    
    try {
      // 模拟保存过程
      showNotification('正在保存通知设置...', 'info');
      
      setTimeout(() => {
        showNotification('通知设置保存成功', 'success');
      }, 1000);
    } catch (error) {
      console.error('保存通知设置失败:', error);
      showNotification('保存失败，请稍后重试', 'error');
    }
  };

  // 处理系统配置保存
  const handleSystemSave = (event) => {
    event.preventDefault();
    
    try {
      // 模拟保存过程
      showNotification('正在保存系统配置...', 'info');
      
      setTimeout(() => {
        showNotification('系统配置保存成功', 'success');
      }, 1000);
    } catch (error) {
      console.error('保存系统配置失败:', error);
      showNotification('保存失败，请稍后重试', 'error');
    }
  };

  // 显示通知
  const showNotification = (message, type) => {
    // 移除现有的通知
    const existingNotification = document.querySelector('.settings-notification');
    if (existingNotification) {
      existingNotification.remove();
    }
    
    const notification = document.createElement('div');
    notification.className = `settings-notification ${type}`;
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 80px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 4px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      ${type === 'success' ? 'background: #27ae60;' : 
        type === 'error' ? 'background: #e74c3c;' : 
        type === 'info' ? 'background: #3498db;' : 
        'background: #6c757d;'}
    `;
    
    document.body.appendChild(notification);
    
    // 3秒后自动移除
    setTimeout(() => {
      if (notification.parentElement) {
        notification.remove();
      }
    }, 3000);
  };
</script>

<style>
  #settings-page {
    font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  header {
    margin-bottom: 30px;
    text-align: center;
  }

  header h1 {
    margin: 0 0 10px 0;
    font-size: 28px;
    color: #2c3e50;
  }

  header p {
    margin: 0;
    color: #7f8c8d;
    font-size: 16px;
  }

  .settings-container {
    display: flex;
    gap: 30px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  /* 侧边栏导航 */
  .settings-nav {
    width: 250px;
    background: #f8f9fa;
    border-right: 1px solid #e0e0e0;
  }

  .settings-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .nav-item {
    padding: 15px 20px;
    cursor: pointer;
    border-bottom: 1px solid #e0e0e0;
    transition: all 0.3s;
    color: #7f8c8d;
    font-weight: 500;
  }

  .nav-item:hover {
    background: #e9ecef;
  }

  .nav-item.active {
    background: #3498db;
    color: white;
    border-right: 3px solid #2980b9;
  }

  /* 设置内容区域 */
  .settings-content {
    flex: 1;
    padding: 30px;
    min-height: 600px;
  }

  .settings-tab {
    display: none;
  }

  .settings-tab.active {
    display: block;
  }

  .settings-tab h2 {
    margin-top: 0;
    margin-bottom: 25px;
    color: #2c3e50;
    padding-bottom: 15px;
    border-bottom: 1px solid #e0e0e0;
  }

  /* 表单样式 */
  .settings-form {
    max-width: 600px;
  }

  .form-section {
    margin-bottom: 30px;
  }

  .form-section h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: #2c3e50;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 10px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 20px;
  }

  .form-group label {
    font-weight: 500;
    color: #2c3e50;
  }

  .form-group input,
  .form-group select {
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
  }

  .form-group input:focus,
  .form-group select:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.25);
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 500;
    color: #2c3e50;
    cursor: pointer;
  }

  .form-actions {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #e0e0e0;
  }

  .save-btn {
    padding: 12px 30px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .save-btn:hover {
    background: #2980b9;
  }

  /* 通知设置开关 */
  .notification-setting {
    margin-bottom: 30px;
  }

  .notification-setting h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: #2c3e50;
  }

  .setting-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .setting-info {
    flex: 1;
  }

  .setting-info label {
    display: block;
    font-weight: 500;
    color: #2c3e50;
    margin-bottom: 5px;
  }

  .setting-info p {
    margin: 0;
    color: #7f8c8d;
    font-size: 14px;
  }

  /* 开关样式 */
  .switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 24px;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }

  input:checked + .slider {
    background-color: #3498db;
  }

  input:checked + .slider:before {
    transform: translateX(26px);
  }

  /* 权限管理 */
  .permissions-section {
    margin-bottom: 40px;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .section-header h3 {
    margin: 0;
    color: #2c3e50;
  }

  .add-btn {
    padding: 8px 16px;
    background: #27ae60;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }

  .add-btn:hover {
    background: #219653;
  }

  .roles-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }

  .role-card {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    overflow: hidden;
  }

  .role-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: #f8f9fa;
    border-bottom: 1px solid #e0e0e0;
  }

  .role-header h4 {
    margin: 0;
    color: #2c3e50;
  }

  .role-actions {
    display: flex;
    gap: 10px;
  }

  .role-actions .edit-btn,
  .role-actions .delete-btn {
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
  }

  .role-actions .edit-btn {
    background: #3498db;
    color: white;
  }

  .role-actions .delete-btn {
    background: #e74c3c;
    color: white;
  }

  .role-permissions {
    padding: 20px;
  }

  .role-permissions p {
    margin-top: 0;
    margin-bottom: 15px;
    color: #7f8c8d;
  }

  .role-permissions ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  .role-permissions li {
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
    color: #2c3e50;
  }

  .role-permissions li:last-child {
    border-bottom: none;
  }

  /* 用户表格 */
  .table-container {
    overflow-x: auto;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #e0e0e0;
  }

  th {
    background: #f8f9fa;
    font-weight: 600;
    color: #2c3e50;
  }

  .status {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .status.active {
    background: #27ae60;
    color: white;
  }

  .status.inactive {
    background: #95a5a6;
    color: white;
  }

  .action-btn {
    padding: 6px 12px;
    margin: 0 5px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }

  .action-btn.edit-btn {
    background: #3498db;
    color: white;
  }

  .action-btn.delete-btn {
    background: #e74c3c;
    color: white;
  }

  /* 安全设置 */
  .security-section {
    margin-top: 30px;
  }

  .security-section h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: #2c3e50;
  }

  .login-history {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
  }

  .login-record {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid #e0e0e0;
  }

  .login-record:last-child {
    border-bottom: none;
  }

  .login-time {
    font-weight: 500;
    color: #2c3e50;
  }

  .login-ip {
    color: #7f8c8d;
  }

  .login-location {
    color: #7f8c8d;
  }

  .login-status {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .login-status.success {
    background: #27ae60;
    color: white;
  }

  .login-status.failed {
    background: #e74c3c;
    color: white;
  }

  /* 通知样式 */
  .settings-notification {
    position: fixed;
    top: 80px;
    right: 20px;
    padding: 15px 20px;
    border-radius: 4px;
    color: white;
    font-weight: 500;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .settings-notification.success {
    background: #27ae60;
  }

  .settings-notification.error {
    background: #e74c3c;
  }

  .settings-notification.info {
    background: #3498db;
  }

  /* 响应式设计 */
  @media (max-width: 768px) {
    .settings-container {
      flex-direction: column;
    }
    
    .settings-nav {
      width: 100%;
      border-right: none;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .settings-content {
      padding: 20px;
    }
    
    .roles-list {
      grid-template-columns: 1fr;
    }
    
    .setting-item {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
  }

  @media (max-width: 480px) {
    #settings-page {
      padding: 10px;
    }
    
    .settings-container {
      border-radius: 0;
    }
    
    .section-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 15px;
    }
    
    .login-record {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
  }
</style>